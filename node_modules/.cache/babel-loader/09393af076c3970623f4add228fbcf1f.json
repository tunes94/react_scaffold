{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\E5854\\\\Documents\\\\GitHub\\\\react_scaffold\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\E5854\\\\Documents\\\\GitHub\\\\react_scaffold\\\\src\\\\screens\\\\Challenge4\\\\editUser.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { editUser } from \"../../store/Challenge4/users/action\";\nimport { genericAlert, removeAlerts } from \"../../store/Challenge4/alerts/action\";\nimport showAlert from \"./hoc/hocAlert\";\n\nclass EditUser extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = evt => {\n      this.setState(_objectSpread({}, this.state, {\n        [evt.target.name]: evt.target.value\n      }));\n    };\n\n    this.checkEdit = () => {\n      const _this$state = this.state,\n            user_name = _this$state.user_name,\n            address = _this$state.address,\n            age = _this$state.age,\n            user_id = _this$state.user_id;\n      const _this$props = this.props,\n            editUser = _this$props.editUser,\n            history = _this$props.history,\n            genericAlert = _this$props.genericAlert;\n\n      if (this.state.user_name === \"\" || address === \"\" || age === \"\") {\n        genericAlert && genericAlert(\"Please make sure you fill the form before submitting it...\", \"warning\");\n      } else {\n        try {\n          editUser && editUser(user_name, address, age, user_id);\n          genericAlert && genericAlert(\"User updated with success!\", \"success\");\n          setTimeout(function () {\n            history.goBack();\n          }, 500);\n        } catch {\n          genericAlert && genericAlert(\"Error!\", \"danger\");\n        }\n      }\n    };\n\n    this.state = {\n      user_name: \"\",\n      address: \"\",\n      age: \"\",\n      user_id: 0\n    };\n  }\n\n  componentDidMount() {\n    const users = this.props.users;\n    const idSelected = parseInt(this.props.match.params.user_id);\n    let usersCopy = [...users];\n    let filteredUser = usersCopy.find(user => user.user_id === idSelected);\n\n    if (filteredUser) {\n      this.setState({\n        user_name: filteredUser.user_name,\n        address: filteredUser.address,\n        age: filteredUser.age,\n        user_id: idSelected\n      });\n    }\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          user_name = _this$state2.user_name,\n          address = _this$state2.address,\n          age = _this$state2.age;\n    const removeAlerts = this.props.removeAlerts;\n    return React.createElement(\"div\", {\n      className: \"container shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Edit this user:\"), React.createElement(\"button\", {\n      className: \"btn btn-outline-dark col-3 mb-3\",\n      onClick: () => {\n        removeAlerts && removeAlerts();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Clear all alerts\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row border p-2 shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-3 m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"User name:\"), React.createElement(\"input\", {\n      name: \"user_name\",\n      value: user_name,\n      onChange: this.handleChange,\n      type: \"text\",\n      className: \"form-control col-7 m-3\",\n      \"aria-describedby\": \"helpId\",\n      placeholder: \"User Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"col-3 m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"User address:\"), React.createElement(\"input\", {\n      name: \"address\",\n      value: address,\n      onChange: this.handleChange,\n      type: \"text\",\n      className: \"form-control col-7 m-3\",\n      \"aria-describedby\": \"helpId\",\n      placeholder: \"User Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"col-3 m-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"User age:\"), React.createElement(\"input\", {\n      name: \"age\",\n      value: age,\n      onChange: this.handleChange,\n      type: \"number\",\n      className: \"form-control col-7 m-3\",\n      \"aria-describedby\": \"helpId\",\n      placeholder: \"User Age\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => {\n        this.checkEdit();\n      },\n      type: \"button\",\n      className: \"btn btn-outline-dark col-2 ml-5 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Edit\"))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  users: state.challenge4Reducer.users\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n  editUser,\n  genericAlert,\n  removeAlerts\n}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(showAlert(EditUser));","map":{"version":3,"sources":["C:/Users/E5854/Documents/GitHub/react_scaffold/src/screens/Challenge4/editUser.tsx"],"names":["React","connect","bindActionCreators","editUser","genericAlert","removeAlerts","showAlert","EditUser","Component","constructor","props","handleChange","evt","setState","state","target","name","value","checkEdit","user_name","address","age","user_id","history","setTimeout","goBack","componentDidMount","users","idSelected","parseInt","match","params","usersCopy","filteredUser","find","user","render","mapStateToProps","challenge4Reducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { editUser } from \"../../store/Challenge4/users/action\";\r\nimport {\r\n  genericAlert,\r\n  removeAlerts\r\n} from \"../../store/Challenge4/alerts/action\";\r\nimport { User } from \"../../store/Challenge4/users/reducer\";\r\nimport showAlert from \"./hoc/hocAlert\";\r\n\r\nexport interface EditUserProps {\r\n  match?: any;\r\n  history: any;\r\n  users: User[];\r\n  editUser?: (\r\n    user_name: string,\r\n    address: string,\r\n    age: number | string,\r\n    user_id: number\r\n  ) => void;\r\n  genericAlert?: (text: string, type: string) => void;\r\n  removeAlerts?: () => void;\r\n}\r\n\r\nexport interface InternalState {\r\n  user_name: string;\r\n  address: string;\r\n  age: number | string;\r\n  user_id: number;\r\n}\r\n\r\nclass EditUser extends React.Component<EditUserProps, InternalState> {\r\n  constructor(props: EditUserProps) {\r\n    super(props);\r\n    this.state = {\r\n      user_name: \"\",\r\n      address: \"\",\r\n      age: \"\",\r\n      user_id: 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { users } = this.props;\r\n    const idSelected: number = parseInt(this.props.match.params.user_id);\r\n    let usersCopy = [...users];\r\n\r\n    let filteredUser: User | any = usersCopy.find(\r\n      user => user.user_id === idSelected\r\n    );\r\n\r\n    if (filteredUser) {\r\n      this.setState({\r\n        user_name: filteredUser.user_name,\r\n        address: filteredUser.address,\r\n        age: filteredUser.age,\r\n        user_id: idSelected\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = (evt: React.ChangeEvent<HTMLInputElement>): void => {\r\n    this.setState({\r\n      ...this.state,\r\n      [evt.target.name]: evt.target.value\r\n    });\r\n  };\r\n\r\n  checkEdit = (): void => {\r\n    const { user_name, address, age, user_id } = this.state;\r\n    const { editUser, history, genericAlert } = this.props;\r\n    if (this.state.user_name === \"\" || address === \"\" || age === \"\") {\r\n      genericAlert &&\r\n        genericAlert(\r\n          \"Please make sure you fill the form before submitting it...\",\r\n          \"warning\"\r\n        );\r\n    } else {\r\n      try {\r\n        editUser &&\r\n          editUser(\r\n            user_name as string,\r\n            address as string,\r\n            age as number,\r\n            user_id as number\r\n          );\r\n        genericAlert && genericAlert(\"User updated with success!\", \"success\");\r\n        setTimeout(function() {\r\n          history.goBack();\r\n        }, 500);\r\n      } catch {\r\n        genericAlert && genericAlert(\"Error!\", \"danger\");\r\n      }\r\n    }\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    const { user_name, address, age } = this.state;\r\n    const { removeAlerts } = this.props;\r\n\r\n    return (\r\n      <div className=\"container shadow\">\r\n        <h3 className=\"m-3\">Edit this user:</h3>\r\n        <button\r\n          className=\"btn btn-outline-dark col-3 mb-3\"\r\n          onClick={(): void => {\r\n            removeAlerts && removeAlerts();\r\n          }}\r\n        >\r\n          Clear all alerts\r\n        </button>\r\n        <div className=\"form-group\">\r\n          <div className=\"row border p-2 shadow\">\r\n            <label className=\"col-3 m-3\">User name:</label>\r\n            <input\r\n              name=\"user_name\"\r\n              value={user_name}\r\n              onChange={this.handleChange}\r\n              type=\"text\"\r\n              className=\"form-control col-7 m-3\"\r\n              aria-describedby=\"helpId\"\r\n              placeholder=\"User Name\"\r\n            ></input>\r\n\r\n            <label className=\"col-3 m-3\">User address:</label>\r\n            <input\r\n              name=\"address\"\r\n              value={address}\r\n              onChange={this.handleChange}\r\n              type=\"text\"\r\n              className=\"form-control col-7 m-3\"\r\n              aria-describedby=\"helpId\"\r\n              placeholder=\"User Address\"\r\n            ></input>\r\n            <label className=\"col-3 m-3\">User age:</label>\r\n            <input\r\n              name=\"age\"\r\n              value={age}\r\n              onChange={this.handleChange}\r\n              type=\"number\"\r\n              className=\"form-control col-7 m-3\"\r\n              aria-describedby=\"helpId\"\r\n              placeholder=\"User Age\"\r\n            ></input>\r\n\r\n            <button\r\n              onClick={(): void => {\r\n                this.checkEdit();\r\n              }}\r\n              type=\"button\"\r\n              className=\"btn btn-outline-dark col-2 ml-5 mb-2\"\r\n            >\r\n              Edit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state?: any): { users: User[] } => ({\r\n  users: state.challenge4Reducer.users\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any): any =>\r\n  bindActionCreators({ editUser, genericAlert, removeAlerts }, dispatch);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(showAlert(EditUser));\r\n"]},"metadata":{},"sourceType":"module"}